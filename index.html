<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Futurastic Heredity Q&A</title>
<style>
    /* Existing Styles */
    body {
        font-family: 'Poppins', sans-serif;
        background: #0d0f1a;
        color: #dbe4ff;
        margin: 0;
        padding: 0; /* Changed from 20px */
    }
    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px; /* Added padding to container */
    }
    /* ... (Existing styles for question-box, q-number, question, answer, etc. remain here) ... */
    .question-box {
        background: #111526;
        margin: 20px 0;
        padding: 20px;
        border-radius: 14px;
        box-shadow: 0 0 15px rgba(0,255,255,0.2);
        transition: 0.3s;
    }
    .question-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 20px rgba(0,255,255,0.4);
    }
    .q-number {
        font-size: 18px;
        color: #ffffff;
        font-weight: 700;
        margin-bottom: 5px;
    }
    .question {
        font-size: 20px;
        font-weight: 700;
        color: #ffffff;
        margin-bottom: 10px;
    }
    .answer {
        font-size: 17px;
        font-weight: bold;
        color: #5ab3ff;
        margin-bottom: 8px;
    }
    .summary-title {
        font-weight: 700;
        color: #00e1ff;
        margin-top: 10px;
    }
    .summary {
        font-size: 15px;
        color: #c3dbff;
        margin-bottom: 6px;
    }
    .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 10px 18px;
        background: #007bff;
        color: white;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        display: none;
        font-size: 14px;
        box-shadow: 0 0 10px rgba(0,0,0,0.3);
        z-index: 9999;
    }
    .extra-links {
        margin-top: 40px;
        text-align: center;
    }

    .feedback-btn, .report-btn, .contact-btn, .more-notes-btn {
        display: inline-block;
        margin: 10px;
        padding: 12px 22px;
        background: #0d6efd;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        transition: 0.3s;
    }

    .feedback-btn:hover, .report-btn:hover, .contact-btn:hover, .more-notes-btn:hover {
        background: #084298;
    }
    
    /* New Styles for Navigation and Chat UI */
    .navbar {
        background: #111526;
        padding: 10px 20px;
        box-shadow: 0 2px 10px rgba(0,255,255,0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    .nav-btn {
        background: none;
        border: none;
        color: #6bc8ff;
        font-size: 24px;
        cursor: pointer;
        padding: 5px;
        line-height: 1; /* Aligns the icon/text better */
    }
    .nav-btn.chat-btn {
        font-weight: bold;
        font-size: 18px;
        text-decoration: none;
        transition: color 0.3s;
    }
    .nav-btn.chat-btn:hover {
        color: #00e1ff;
    }
    .main-content {
        display: block; /* Initially show Q&A */
    }
    .ai-chat-content {
        display: none; /* Initially hide chat */
        padding: 20px 0;
    }

    /* Chat UI Styles */
    .chat-container {
        background: #111526;
        border-radius: 14px;
        box-shadow: 0 0 15px rgba(0,255,255,0.2);
        padding: 20px;
        display: flex;
        flex-direction: column;
        min-height: 70vh; /* Adjust as needed */
    }
    .chat-history {
        flex-grow: 1;
        overflow-y: auto;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #1a223f;
        border-radius: 8px;
        max-height: 60vh;
    }
    .message {
        margin: 10px 0;
        padding: 10px 15px;
        border-radius: 12px;
        max-width: 80%;
    }
    .user-message {
        background: #0d6efd;
        align-self: flex-end;
        margin-left: auto;
    }
    .ai-message {
        background: #00e1ff20; /* Light cyan background */
        border: 1px solid #00e1ff40;
        align-self: flex-start;
        margin-right: auto;
    }
    .chat-input-area {
        display: flex;
        gap: 10px;
    }
    #chat-input {
        flex-grow: 1;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #00e1ff;
        background: #0d0f1a;
        color: #dbe4ff;
        font-size: 16px;
    }
    #chat-input::placeholder {
        color: #7b88a8;
    }
    #send-btn {
        padding: 10px 20px;
        background: #00e1ff;
        color: #0d0f1a;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s;
    }
    #send-btn:hover {
        background: #5ab3ff;
    }
</style>
</head>
<body>
<div class="navbar">
    <button class="nav-btn" onclick="toggleView('qa')">â˜°</button>
    <a href="javascript:void(0)" class="nav-btn chat-btn" onclick="toggleView('chat')">9th Bio.AI</a>
</div>
<div class="container">

<div class="main-content" id="qa-view">
    <h2 style="text-align:center; color:#6bc8ff;">created by Riser.AI</h2>
    <h1 style="text-align:center; color:#6bc8ff;">Soham sci ch16â€“ Q&A + Summary</h1>

    <div class="question-box">
        <div class="q-number">Q1</div>
        <div class="question">What is heredity?</div>
        <div class="answer">Heredity is the passing of traits from parents to their children through genes.</div>
        <div class="summary-title">Summary (English):</div>
        <div class="summary">Traits pass from parents to kids through genes.</div>
        <div class="summary-title">Summary (Hinglish):</div>
        <div class="summary">Parents ke traits genes ke through children tak jaate hain.</div>
    </div>

    <div class="question-box">
        <div class="q-number">Q20</div>
        <div class="question">What is mutation?</div>
        <div class="answer">A sudden change in DNA sequence that may create variation.</div>
        <div class="summary-title">Summary (English):</div>
        <div class="summary">Mutation = sudden DNA change.</div>
        <div class="summary-title">Summary (Hinglish):</div>
        <div class="summary">Mutation DNA ya RNA ke code mein hone wali galti ya change hai. DNA hamare body ka "blueprint" hai jisme saari instructions (nirdesh) hoti hain.
        Jab yeh code badalta hai, toh usse banne wale proteins bhi alag ho sakte hain, jisse body ke functions par asar pad sakta hai</div>
    </div>
    
    <footer style="background:#0b0d17; padding:30px; margin-top:40px; border-radius:12px; box-shadow:0 0 20px rgba(0,255,255,0.2);">
        <h2 style="color:#6bc8ff; text-align:center;">About</h2>
        <p style="color:#c3dbff; font-size:15px; text-align:center; max-width:700px; margin:auto;">
            This website provides simplified science explanations, notes, and Q&A for students. Designed with a futuristic UI to enhance learning and readability.
        </p>

        <h2 style="color:#6bc8ff; text-align:center; margin-top:25px;">Privacy Policy</h2>
        <p style="color:#c3dbff; font-size:15px; text-align:center; max-width:700px; margin:auto;">
            We do not collect personal information. No login or signup is required. Thirdâ€‹â€‘party services such as Google AdSense may use cookies to show personalized ads. Users can disable cookies from their browser settings.
        </p>

        <div style="text-align:center; margin-top:25px;">
            <a href="https://mail.google.com/mail/?view=cm&fs=1&to=soham.affiliates8@gmail.com" class="contact-btn" target="_blank">Contact Us</a>
            <a href="/notes/index.html" class="more-notes-btn">More Notes</a>
        </div>
    </footer>

    <div class="extra-links">
        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=soham.affiliates8@gmail.com&su=Feedback&body=I%20liked%20this%20part%E2%80%A6%0A%0AI%20faced%20issue%20here%E2%80%A6"
        class="feedback-btn" target="_blank">
            Send Feedback
        </a>

        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=soham.affiliates8@gmail.com&su=Report%20a%20Problem&body=Problem%20Details%3A%0A%0APlease%20describe%20your%20issue%20here..."
        class="report-btn" target="_blank">
            Report a Problem
        </a>

        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=soham.affiliates8@gmail.com&su=Contact%20Request&body=Hi%20Soham%2C%0AI%20want%20to%20contact%20regarding..."
        class="contact-btn" target="_blank">
            Contact Us
        </a>
    </div>
</div>
<div class="ai-chat-content" id="chat-view">
    <h1 style="text-align:center; color:#00e1ff;">ðŸ”¬ 9th Bio.AI Chat</h1>
    <p style="text-align:center; color:#c3dbff; margin-bottom: 20px;">Ask anything about your 9th grade Biology chapter!</p>
    
    <div class="chat-container">
        <div class="chat-history" id="chat-history">
            <div class="message ai-message">
                Hello! I'm your Bio.AI assistant. How can I help you understand Heredity and Variation today?
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="Type your question here..." onkeypress="if(event.key === 'Enter') sendChatMessage()">
            <button id="send-btn" onclick="sendChatMessage()">Send</button>
        </div>
    </div>
</div>
<button class="back-to-top" aria-label="Back to top">Back to Top</button>

<script>
    // --- View Toggling Function ---
    function toggleView(view) {
        const qaView = document.getElementById('qa-view');
        const chatView = document.getElementById('chat-view');
        const backToTop = document.querySelector('.back-to-top');

        if (view === 'chat') {
            qaView.style.display = 'none';
            chatView.style.display = 'block';
            backToTop.style.display = 'none'; // Hide back-to-top in chat view
            document.title = '9th Bio.AI Chat';
        } else { // 'qa'
            qaView.style.display = 'block';
            chatView.style.display = 'none';
            // Back-to-Top visibility managed by scroll listener
            document.title = 'Futurastic Heredity Q&A';
        }
    }

    // --- Back-to-Top Button Logic (Existing) ---
    const backToTop = document.querySelector('.back-to-top');

    window.addEventListener('scroll', () => {
        // Only show if Q&A view is active
        if (document.getElementById('qa-view').style.display !== 'none') {
             if (window.scrollY > 300) backToTop.style.display = 'block';
             else backToTop.style.display = 'none';
        }
    });

    backToTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // --- AI Chat Logic Placeholder ---

    // âš ï¸ IMPORTANT: In a real deployment, this key and model choice must be handled on a secure backend server.
    // Storing it here (even commented out) is for demonstration ONLY. DO NOT DEPLOY WITH KEY HERE.
    // const OPENAI_API_KEY = "YOUR_API_KEY_HERE"; 
    const CHAT_MODEL = "gpt-3.5-turbo"; // You can change this to "gpt-4-turbo" or another model

    async function sendChatMessage() {
        const chatInput = document.getElementById('chat-input');
        const chatHistory = document.getElementById('chat-history');
        const message = chatInput.value.trim();

        if (message === "") return;

        // 1. Display User Message
        const userMessageDiv = document.createElement('div');
        userMessageDiv.className = 'message user-message';
        userMessageDiv.textContent = message;
        chatHistory.appendChild(userMessageDiv);
        
        chatInput.value = ''; // Clear input
        chatHistory.scrollTop = chatHistory.scrollHeight; // Scroll to bottom

        // 2. Display 'Thinking' Message
        const aiThinkingDiv = document.createElement('div');
        aiThinkingDiv.className = 'message ai-message';
        aiThinkingDiv.innerHTML = 'AI is thinking...'; // Can use a loading animation here
        chatHistory.appendChild(aiThinkingDiv);
        chatHistory.scrollTop = chatHistory.scrollHeight;

        // 3. Make API Call (!!! REQUIRES BACKEND !!!)
        try {
            // --- START OF PLACEHOLDER FOR API CALL ---
            
            // In a real application, you would replace the following block 
            // with a call to your secure backend server endpoint.
            
            /*
            const response = await fetch('YOUR_SECURE_BACKEND_ENDPOINT/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt: message, model: CHAT_MODEL })
            });
            const data = await response.json();
            const aiResponseText = data.response; // Get the text from your backend response
            */
            
            // --- SIMULATED RESPONSE FOR FRONT-END TESTING ONLY ---
            await new Promise(r => setTimeout(r, 1500)); // Simulate network delay
            let aiResponseText;
            if (message.toLowerCase().includes("heredity")) {
                aiResponseText = "Heredity is the process of passing traits from parents to offspring, mainly through genes found on chromosomes. It's why children often look similar to their parents.";
            } else if (message.toLowerCase().includes("dna")) {
                aiResponseText = "DNA (Deoxyribonucleic acid) is the genetic material in most organisms. It holds the long-term instructions for building and operating an organism.";
            } else {
                aiResponseText = "That's a great question! For now, I can only give pre-set answers for demonstration. In the full version, I'd use my model (" + CHAT_MODEL + ") to answer your query: '" + message + "'.";
            }
            // --- END OF PLACEHOLDER FOR API CALL ---
            
            // 4. Update Chat History with AI's Real Response
            aiThinkingDiv.textContent = aiResponseText;
            
        } catch (error) {
            console.error('API Error:', error);
            aiThinkingDiv.textContent = 'Sorry, I ran into an error. Please try again later.';
        }
        
        chatHistory.scrollTop = chatHistory.scrollHeight;
    }
</script>
</body>
</html>
